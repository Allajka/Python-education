# b) –ü–æ–¥—É–º–∞–π—Ç–µ –∫–∞–∫ –Ω–∞–¥–µ–ª–∏—Ç—å –±–æ—Ç–∞ "–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º"
# –ê–ª–≥–æ—Ä–∏—Ç–º:
# 1. –∏–≥—Ä–æ–∫—É –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–º –∏–ª–∏ –≤—Ç–æ—Ä—ã–º –æ–Ω –±—É–¥–µ—Ç —Ö–æ–¥–∏—Ç—å.
# 2. –ö–æ–º–ø—å—é—Ç–µ—Ä –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ —Ä–∞–Ω–¥–æ–º–Ω–æ –ø–æ –¥–≤—É–º –≤–µ—Ç–∫–∞–º - –≤–µ—Ä–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏–ª–∏ –ª—é–±–æ–µ —Ä–∞–Ω–¥–æ–º–Ω–æ–µ —á–∏—Å–ª–æ.
# 3. –¢–∞–∫ –∂–µ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–≤–æ–¥–∏—Ç 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ç–∫–∏(–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–ª–∏ –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π).
# 4. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —É –∏–≥—Ä–æ–∫–∞ –µ—Å—Ç—å —à–∞–Ω—Å –ø–æ–±–µ–¥–∏—Ç—å.

from random import randint
def control_input(control_number, text):
    flag = False
    while flag == False:
        user_number = input(text)
        try:
            user_number = int(user_number)
            if 0 < user_number <= control_number:
                flag = True
                return int(user_number)
        except ValueError:
            flag == False

print('–ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç 101 –∫–æ–Ω—Ñ–µ—Ç–∞. –í—ã –∏–≥—Ä–∞–µ—Ç–µ –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.\n–ó–∞ –æ–¥–∏–Ω —Ö–æ–¥ –º–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ —á–µ–º 28 –∫–æ–Ω—Ñ–µ—Ç.\n')
move = control_input(2, f'–í—ã —Ö–æ—Ç–∏—Ç–µ —Ö–æ–¥–∏—Ç—å –ø–µ—Ä–≤—ã–º –∏–ª–∏ –≤—Ç–æ—Ä—ã–º? –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–∞—Ä–∏–∞–Ω—Ç —Ü–∏—Ñ—Ä–æ–π: ')

candies = 101
control_candies = 28
if move == 1:
    print('–í–∞—à —Ö–æ–¥ –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º. \n   \033[1m–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å \033[0m')
    while candies > 0:
        player = control_input(control_candies, f'–ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç \033[1m{candies}\033[0m –∫–æ–Ω—Ñ–µ—Ç–∞. \033[1m–í–∞—à —Ö–æ–¥: \033[0m')
        candies -= player
        if candies <= 0:
            print('\nüéâüéâüéâ –í—ã –ø–æ–±–µ–¥–∏–ª–∏ üéâüéâüéâ')
            break

        lottery = randint(1, 2)
        if lottery == 1:
            computer = candies % (control_candies+1)
        else:
            computer = randint(1, 28)
        print(f'–ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç \033[1m{candies}\033[0m –∫–æ–Ω—Ñ–µ—Ç–∞. –ö–æ–º–ø—å—é—Ç–µ—Ä –≤ —Å–≤–æ–π —Ö–æ–¥ –∑–∞–±—Ä–∞–ª \033[1m{computer}\033[0m –∫–æ–Ω—Ñ–µ—Ç.')
        candies -= computer
        if candies <= 0:
            print('\n–í–∞—Å –æ–±—ã–≥—Ä–∞–ª –∫–æ–º–ø—å—é—Ç–µ—Ä üòí\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ!')
            break

        answer = randint(1, 3)
        if not candies % (control_candies+1) == 0:
            if answer == 1:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –û–π, –∫–∞–∂–µ—Ç—Å—è —è –Ω–µ —Ç—É–¥–∞ –Ω–∞–∂–∞–ª.")
            elif answer == 2:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –ß—Ç–æ-—Ç–æ —è —Å–µ–±—è –Ω–µ –≤–∞–∂–Ω–æ —á—É–≤—Å—Ç–≤—É—é.")
            else:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –£ —Ç–µ–±—è –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —à–∞–Ω—Å—ã –ø–æ–±–µ–¥–∏—Ç—å.")

        if candies % (control_candies+1) == 0:
            if answer == 1:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –°–æ–±–µ—Ä–∏—Å—å! –Ø —É–∂–µ —á—É–≤—Å—Ç–≤—É—é –≤–∫—É—Å –ø–æ–±–µ–¥—ã.")
            elif answer == 2:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –¢—ã —Ç–æ—á–Ω–æ —Ö–æ—á–µ—à—å –ø–æ–±–µ–¥–∏—Ç—å?")
            else:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –ü–∞–º-–ø–∞–º, —è —É–∂–µ –ø–æ—Ç–∏—Ä–∞—é —Ä—É—á–∫–∏.")
else:
    print('–í–∞—à —Ö–æ–¥ –±—É–¥–µ—Ç –≤—Ç–æ—Ä—ã–º. \n   \033[1m–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å \033[0m')
    while candies > 0:
        computer = candies % (control_candies + 1)
        print(f'–ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç \033[1m{candies}\033[0m –∫–æ–Ω—Ñ–µ—Ç–∞. –ö–æ–º–ø—å—é—Ç–µ—Ä –≤ —Å–≤–æ–π —Ö–æ–¥ –∑–∞–±—Ä–∞–ª \033[1m{computer}\033[0m –∫–æ–Ω—Ñ–µ—Ç.')
        candies -= computer
        answer = randint(1, 3)
        if not candies % (control_candies+1) == 0:
            if answer == 1:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –û–π, –∫–∞–∂–µ—Ç—Å—è —è –Ω–µ —Ç—É–¥–∞ –Ω–∞–∂–∞–ª.")
            elif answer == 2:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –ß—Ç–æ-—Ç–æ —è —Å–µ–±—è –Ω–µ –≤–∞–∂–Ω–æ —á—É–≤—Å—Ç–≤—É—é.")
            else:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –£ —Ç–µ–±—è –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —à–∞–Ω—Å—ã –ø–æ–±–µ–¥–∏—Ç—å.")

        if candies % (control_candies+1) == 0:
            if answer == 1:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –°–æ–±–µ—Ä–∏—Å—å! –Ø —É–∂–µ —á—É–≤—Å—Ç–≤—É—é –≤–∫—É—Å –ø–æ–±–µ–¥—ã.")
            elif answer == 2:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –¢—ã —Ç–æ—á–Ω–æ —Ö–æ—á–µ—à—å –ø–æ–±–µ–¥–∏—Ç—å?")
            else:
                print("\033[1m–∫–æ–º–ø—å—é—Ç–µ—Ä:\033[0m –ü–∞–º-–ø–∞–º, —è —É–∂–µ –ø–æ—Ç–∏—Ä–∞—é —Ä—É—á–∫–∏.")


        if candies <= 0:
            print('\n–í–∞—Å –æ–±—ã–≥—Ä–∞–ª –∫–æ–º–ø—å—é—Ç–µ—Ä üòí\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ!')
            break
        player = control_input(control_candies, f'–ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç \033[1m{candies}\033[0m –∫–æ–Ω—Ñ–µ—Ç–∞. \033[1m–í–∞—à —Ö–æ–¥: \033[0m')
        candies -= player
        if candies <= 0:
            print('\nüéâüéâüéâ –ü–æ–±–µ–¥–∏–ª –ø–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫ üòé')
            break